CREATE TABLE HOTEL (ID NUMBER(2) PRIMARY KEY, NHABS NUMBER(3) );
/*E insertamos los siguientes valores:*/

INSERT INTO HOTEL VALUES (1, 10);
INSERT INTO HOTEL VALUES (2, 60);
INSERT INTO HOTEL VALUES (3, 200);
INSERT INTO HOTEL VALUES (99, NULL);
/*EN esta tabla tenemos datos de hoteles, en concreto el n�mero de habitaciones de cada hotel. 

Crea un procedimiento  TAMANOHOTEL que nos diga si el hotel es de tama�o: Peque�o, Mediano o Grande, en funci�n del n�mero de habitaciones. 
SI el n�mero de habitaciones es menor que 50 se considera "Peque�o", si el n�mero de habitaciones est� comprendido entre 50 y 70 es considerado "Mediano", y si el n�mero de habitaciones es superior a 70 es considerado "Grande".

Al procedimiento se le pasar� un par�metro, que ser� el ID de un Hotel, y nos indicar� mediante un mensaje, el tama�o del Hotel. 
 TAMANOHOTEL (ID NUMBER) */

/*2.  A�ade las siguientes tablas al esquema anterior: */
create table habitaciones (
 piso integer NOT NULL, 
 habitacion varchar(2) NOT NULL,
 tipo varchar(10) DEFAULT 'Doble'
                  CONSTRAINT nn_tipo NOT NULL
                  CONSTRAINT ch_Tipo  CHECK (tipo IN ('Individual','Doble', 'Suite')),
 primary key(piso,habitacion));

create table reservas (
 planta integer,
 habitacion varchar(2),
 fechaentrada date DEFAULT SYSDATE,
 noches integer,
 primary key(piso,habitacion,fechaentrada),
 foreign key (piso,habitacion) references habitaciones
);

create table temporadas (
 nombre varchar(10) not null,
 mesInicio integer not null,
 diaInicio integer not null,
 mesFin integer not null,
 diaFin integer not null,
 primary key(nombre,mesInicio,diaInicio)
);

insert into temporadas values('Alta',6,1,8,30);
insert into temporadas values('Baja',1,1,5,31);
insert into temporadas values('Baja',1,9,12,31);



create or replace PROCEDURE CREAR_HABITACIONES
IS

    TIPO VARCHAR2(10);
BEGIN
    DELETE FROM HABITACIONES;
    FOR I IN 1..12 LOOP
        
        IF I <= 11 THEN
            FOR J IN 1..25 LOOP
                
                IF J <= 20 THEN
                    
                    Tipo:= 'Doble';
                ELSIF J > 20 THEN
                    
                    Tipo:= 'Individual';
                END IF;
        
                INSERT INTO HABITACIONES VALUES (I, J, Tipo);
            END LOOP;
        ELSIF I >= 11 THEN
            FOR  J IN 1..8 LOOP
                TIPO := 'Suite';
                INSERT INTO HABITACIONES VALUES (I, J, Tipo);
            END LOOP;
        END IF;
    END LOOP;
END;
/
BEGIN
crear_habitaciones;
END;

